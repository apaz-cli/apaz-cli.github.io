<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>FEB</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <style type="text/css">
  /* https://github.com/markdowncss/retro/blob/master/css/retro.css */

  @font-face {
      font-family: "lemon";
      src: url('lemon.woff');
  }

  /*
  @media print {
      *, *:before, *:after {
          background: transparent !important;
          color: #000 !important;
          box-shadow: none !important;
          text-shadow: none !important;
      }
      a, a:visited { text-decoration: underline; }
      a[href]:after { content: " (" attr(href) ")"; }
      abbr[title]:after { content: " (" attr(title) ")"; }
      a[href^="#"]:after, a[href^="javascript:"]:after { content: ""; }
      pre, blockquote { border: 1px solid #999; page-break-inside: avoid; }
      thead { display: table-header-group; }
      tr, img { page-break-inside: avoid; }
      img { max-width: 100% !important; }
      p, h2, h3 { orphans: 3; widows: 3; }
      h2, h3 { page-break-after: avoid; }
  }
  */
  a, a:visited { color: #01ff70; }
  a:hover, a:focus, a:active { color: #2ecc40; }
  .retro-no-decoration { text-decoration: none; }
  p, .retro-p {
      font-size: 1rem;
      margin-bottom: 1.3rem;
      /*text-indent: 50px*/
  }
  h1, .retro-h1, h2, .retro-h2, h3, .retro-h3, h4, .retro-h4 {
      margin: 1.414rem 0 .5rem;
      font-weight: inherit;
      line-height: 1.42;
  }
  h1, .retro-h1 {
      color: rgb(112, 221, 0);
      margin-top: 0;
      font-size: 3.998rem;
  }
  h2, .retro-h2 {
      color: rgb(112, 221, 0);
      margin-top: 0;
      font-size: 2.827rem;
  }
  h3, .retro-h3 {
      font-size: 1.999rem;
  }
  h4, .retro-h4 {
      font-size: 1.414rem;
  }
  h5, .retro-h5 {
      font-size: 1.121rem;
  }
  h6, .retro-h6 {
      font-size: .88rem;
  }
  small, .retro-small {
      font-size: .707em;
  }

  img, canvas, iframe, video, svg, select, textarea { max-width: 100%; }

  html, body {
      /* background-image: url(https://raw.githubusercontent.com/apaz-cli/apaz-cli.github.io/master/pattern.png); */
      background-color: #222;
      min-height: 100%;
      font-size: 20px;
  }
  body {
      color: #fafafa;
      font-family: "lemon", "Courier New";
      line-height: 1.65;
      margin: 6rem auto 1rem;
      max-width: 48rem;
      /* padding: .25rem; */
  }
  pre, code {
      background-color: #333;
      font-family: "lemon", "Menlo", "Monaco", "Courier New";
      font-size: 12;
  }

  code span.dt { color: #e4a51e; } /* DataType */

  pre {
      padding: .5rem;
      line-height: 1.25;
      overflow-x: scroll;
  }
  blockquote {
      border-left: 3px solid #01ff70;
      padding-left: 1rem;
  }
  </style>
</head>
<body>
<h2 id="kinds-of-errors-features-and-builds">Kinds of Errors, Features, and Builds:</h2>
<p>When you're writing a compiler, there's a lot to keep track of. Here's a framework for doing so.</p>
<h3 id="errors">Errors</h3>
<p>I assert that there are a many categories of runtime errors.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a><span class="ss">1. </span>Is the error recoverable?</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true"></a><span class="ss">2. </span>Did the error come from violating a precondition?</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true"></a><span class="ss">3. </span>Did you plan for this error?</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true"></a><span class="ss">4. </span>Is the cause of the error beyond your control?</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true"></a><span class="ss">5. </span>Is the behavior undefined?</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true"></a><span class="ss">6. </span>Is the error a result of the program being incorrect?</span></code></pre></div>
<p>As you can see, there are at least 2^6 kinds of errors. For any given combination of yes/no answers to these questions, you could probably come up with your own example. Here are some of mine.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true"></a>101000 - <span class="in">`malloc()`</span> fails, and an error is returned to the caller.</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true"></a>000110 - The CPU is hit with a big hammer.</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true"></a>101100 - One of the CPUs in your airplane&#39;s engine controller disintegrates.</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true"></a>010011 - Accidentally passed a null pointer to <span class="in">`strlen()`</span>.</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true"></a>010001 - While debugging, you instrumented the build of your code to trap on integer overflow.</span></code></pre></div>
<p>Although there are lots of types of errors, once one error has been detected, there are really only two things things you want to do with any error. You either pass the error to the caller, or crash as gracefully as possible, perhaps after logging the error.</p>
<p>The way that errors are reported should be ergonomic and standardized across all different kinds of functions, and the way that crashes happen should be standardized, configurable, and overrideable.</p>
<h3 id="features">Features</h3>
<p>I assert also that there are a few categories of features.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true"></a><span class="ss">1. </span>Is the feature supported on the platform&gt;</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true"></a><span class="ss">2. </span>Does the feature require optional dependencies?</span></code></pre></div>
<p>If a feature is supported on the platform and has all of its dependencies, it is available. Otherwise, it is not. This should not be pushed to runtime.</p>
<h3 id="builds">Builds</h3>
<div class="sourceCode" id="cb4"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true"></a><span class="ss">1. </span>Is optimization turned on?</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true"></a><span class="ss">2. </span>Is the build instrumented to catch errors?</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true"></a><span class="ss">3. </span>What features are required?</span></code></pre></div>
<p>Optimized and uninstrumented is a normal production build, and unoptimized and instrumented is a normal debugging build. It's less common, but for various other reasons you may want to create optimized and instrumented, or unoptimized and uninstrumented builds.</p>
<p>If a feature is required but not available, the build should fail. This should not be pushed to runtime.</p>
<p><br></p>
</body>
</html>
